{"remainingRequest":"F:\\antorse\\dbc-asia-phase2\\STAGING_dbc_phase_2\\physioPortal\\node_modules\\babel-loader\\lib\\index.js!F:\\antorse\\dbc-asia-phase2\\STAGING_dbc_phase_2\\physioPortal\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\antorse\\dbc-asia-phase2\\STAGING_dbc_phase_2\\physioPortal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\antorse\\dbc-asia-phase2\\STAGING_dbc_phase_2\\physioPortal\\src\\pages\\AnalyticsDbc\\DashboardAnalytics.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\antorse\\dbc-asia-phase2\\STAGING_dbc_phase_2\\physioPortal\\src\\pages\\AnalyticsDbc\\DashboardAnalytics.vue","mtime":1594308451986},{"path":"F:\\antorse\\dbc-asia-phase2\\STAGING_dbc_phase_2\\physioPortal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1591157758729},{"path":"F:\\antorse\\dbc-asia-phase2\\STAGING_dbc_phase_2\\physioPortal\\node_modules\\babel-loader\\lib\\index.js","mtime":1591157735766},{"path":"F:\\antorse\\dbc-asia-phase2\\STAGING_dbc_phase_2\\physioPortal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1591157758729},{"path":"F:\\antorse\\dbc-asia-phase2\\STAGING_dbc_phase_2\\physioPortal\\node_modules\\vue-loader\\lib\\index.js","mtime":1591157760591}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"F:\\\\antorse\\\\dbc-asia-phase2\\\\STAGING_dbc_phase_2\\\\physioPortal\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Widget from \"../../components/Widget/Widget.vue\";\nimport AnimatedNumber from \"animated-number-vue\";\nimport ExportButton from \"./exportButton.vue\";\nimport completedSession from \"./completedSession\";\nimport patientsOption from \"./script/patientsOption\";\nimport patientsData from \"./patientsData\";\nexport default {\n  components: {\n    ExportButton: ExportButton,\n    AnimatedNumber: AnimatedNumber,\n    Widget: Widget\n  },\n  data: function data() {\n    return {\n      viewAs: \"Physio\",\n      selection: \"one_year\",\n      sessionsLastMonth: 66,\n      sessionsHighest: 110,\n      kpiLastMonth: 83,\n      kpiHighest: 96,\n      kpiFilter: 43,\n      sessionsFilter: 33,\n      completedSession: completedSession,\n      patientsOption: patientsOption,\n      patientsData: patientsData,\n      patientsFilter: patientsData.myPatient,\n      selectCompletedData: completedSession.my,\n      patientsAdmin: [{\n        value: patientsData.myPatient,\n        text: \"My\"\n      }, {\n        value: patientsData.centrePatient,\n        text: \"Centre\"\n      }],\n      patientsSuper: [{\n        value: patientsData.myPatient,\n        text: \"My\"\n      }, {\n        value: patientsData.centrePatient,\n        text: \"Ampang\"\n      }, {\n        value: patientsData.ttdiPatient,\n        text: \"TTDI\"\n      }, {\n        value: patientsData.totalPatient,\n        text: \"Total\"\n      }],\n      sessionAdmin: [{\n        value: 33,\n        text: \"My\"\n      }, {\n        value: 55,\n        text: \"Centre\"\n      }],\n      sessionSuper: [{\n        value: 33,\n        text: \"My\"\n      }, {\n        value: 55,\n        text: \"Ampang\"\n      }, {\n        value: 66,\n        text: \"TTDI\"\n      }, {\n        value: 120,\n        text: \"Total\"\n      }],\n      kpiAdmin: [{\n        value: 43,\n        text: \"My\"\n      }, {\n        value: 89,\n        text: \"Centre\"\n      }],\n      kpiSuper: [{\n        value: 43,\n        text: \"My\"\n      }, {\n        value: 89,\n        text: \"Ampang\"\n      }, {\n        value: 60,\n        text: \"TTDI\"\n      }, {\n        value: 83,\n        text: \"Total\"\n      }],\n      sessionAdminFilter: [{\n        value: completedSession.my,\n        text: \"My\"\n      }, {\n        value: completedSession.ampang,\n        text: \"Centre\"\n      }],\n      sessionSuperFilter: [{\n        value: completedSession.my,\n        text: \"My\"\n      }, {\n        value: completedSession.ampang,\n        text: \"Ampang\"\n      }, {\n        value: completedSession.ttdi,\n        text: \"TTDI\"\n      }, {\n        value: completedSession.total,\n        text: \"Total\"\n      }],\n      //\n      dailyFields: [\"name\", {\n        key: \"center\",\n        class: \"text-center\"\n      }, {\n        key: \"time\",\n        class: \"text-center\"\n      }, {\n        key: \"action\",\n        class: \"text-center\"\n      }],\n      daily: [{\n        name: \"Roy\",\n        center: \"Ampang\",\n        time: \"9 AM\"\n      }, {\n        name: \"Vin\",\n        center: \"Ampang\",\n        time: \"9 AM\"\n      }, {\n        name: \"Diesel\",\n        center: \"Ampang\",\n        time: \"9 AM\"\n      }, {\n        name: \"Jerax\",\n        center: \"Ampang\",\n        time: \"9 AM\"\n      }, {\n        name: \"Topson\",\n        center: \"Ampang\",\n        time: \"9 AM\"\n      }],\n      reportsFields: [\"name\", {\n        key: \"center\",\n        class: \"text-center\"\n      }, {\n        key: \"time\",\n        label: \"time left\",\n        class: \"text-center\"\n      }, {\n        key: \"action\",\n        class: \"text-center\"\n      }],\n      reports: [{\n        name: \"Roy\",\n        center: \"Ampang\",\n        time: \"2 min\"\n      }, {\n        name: \"Vin\",\n        center: \"Ampang\",\n        time: \"3 h\"\n      }, {\n        name: \"Diesel\",\n        center: \"Ampang\",\n        time: \"24 h\"\n      }, {\n        name: \"Jerax\",\n        center: \"Ampang\",\n        time: \"32 h\"\n      }, {\n        name: \"Topson\",\n        center: \"Ampang\",\n        time: \"48 h\"\n      }],\n      //option data for completed sessions graph\n      completedOption: {\n        tooltip: {\n          theme: \"dark\"\n        },\n        legend: {\n          labels: {\n            colors: \"#fff\"\n          }\n        },\n        dataLabels: {\n          enabled: false\n        },\n        xaxis: {\n          type: \"datetime\",\n          min: new Date(\"01 Mar 2012\").getTime(),\n          labels: {\n            style: {\n              colors: \"#000\"\n            }\n          },\n          axisBorder: {\n            show: false\n          },\n          axisTicks: {\n            show: false\n          }\n        },\n        yaxis: {\n          labels: {\n            style: {\n              colors: \"#000\"\n            }\n          }\n        },\n        grid: {\n          show: true,\n          borderColor: \"#00000059\",\n          strokeDashArray: 0,\n          position: \"back\",\n          xaxis: {\n            lines: {\n              show: false\n            }\n          },\n          yaxis: {\n            lines: {\n              show: true\n            }\n          },\n          row: {\n            opacity: 0.5\n          }\n        },\n        colors: [\"#FF4560\", \"#1870DC\"],\n        fill: {\n          type: \"gradient\",\n          gradient: {\n            shadeIntensity: 0.5,\n            opacityFrom: 0.1,\n            opacityTo: 0.3,\n            stops: [0, 90, 100]\n          }\n        },\n        chart: {\n          id: \"area-datetime\",\n          type: \"area\",\n          zoom: {\n            type: \"x\",\n            enabled: true,\n            autoScaleYaxis: true\n          },\n          toolbar: {\n            offsetX: -15,\n            offsetY: -38,\n            autoSelected: \"zoom\"\n          },\n          dataLabels: {\n            enabled: false\n          },\n          stroke: {\n            curve: \"smooth\"\n          }\n        }\n      },\n      data: {\n        w1_thisMonthBookings: 0,\n        w1_lastMonthBookings: 0,\n        w1_highestBookings: 0\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.getWidgetOne();\n    this.getWidgetTwo();\n  },\n  methods: {\n    getWidgetOne: function () {\n      var _getWidgetOne = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return this.axios.get('http://localhost:8000/dashboardAnalytics/w1');\n\n              case 3:\n                response = _context.sent;\n                this.data.w1_highestBookings = response.data.highestBookings;\n                this.data.w1_thisMonthBookings = response.data.thisMonthBookings;\n                this.data.w1_lastMonthBookings = response.data.lastMonthBookings;\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](0);\n                console.error(_context.t0);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 9]]);\n      }));\n\n      return function getWidgetOne() {\n        return _getWidgetOne.apply(this, arguments);\n      };\n    }(),\n    getWidgetTwo: function () {\n      var _getWidgetTwo = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var response;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return this.axios.get('http://localhost:8000/dashboardAnalytics/w2');\n\n              case 3:\n                response = _context2.sent;\n                this.data.w2 = [response.data.newProgrammes, response.data.recurringProgrammes];\n                _context2.next = 10;\n                break;\n\n              case 7:\n                _context2.prev = 7;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.error(_context2.t0);\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 7]]);\n      }));\n\n      return function getWidgetTwo() {\n        return _getWidgetTwo.apply(this, arguments);\n      };\n    }(),\n    changeColor: function changeColor() {\n      if (this.kpiFilter >= 80 && this.kpiFilter <= 100) {\n        return \"text-success\";\n      } else if (this.kpiFilter < 80 && this.kpiFilter >= 50) {\n        return \"text-warning\";\n      } else if (this.kpiFilter < 50) {\n        return \"text-danger\";\n      } else {\n        return \"\";\n      }\n    },\n    updateData: function updateData(timeline) {\n      this.selection = timeline;\n      var date = new Date();\n      var start = new Date();\n      start.setHours(0, 0, 0, 0);\n      var end = new Date();\n      end.setHours(23, 59, 59, 999);\n\n      switch (timeline) {\n        case \"monthly\":\n          this.$refs.chart.zoomX(new Date(date.getFullYear(), date.getMonth(), 1).getTime(), new Date(date.getFullYear(), date.getMonth() + 1, 0).getTime());\n          break;\n\n        case \"weekly\":\n          this.$refs.chart.zoomX(new Date(date.getFullYear(), date.getMonth(), date.getDate() + (date.getDay() == 0 ? -6 : 1) - date.getDay()).getTime(), new Date(date.getFullYear(), date.getMonth(), date.getDate() + (date.getDay() == 0 ? 0 : 7) - date.getDay()).getTime());\n          break;\n\n        case \"daily\":\n          this.$refs.chart.zoomX(start.getTime(), end.getTime());\n          break;\n\n        default:\n      }\n    },\n    formatTo: function formatTo(sessionsFilter) {\n      return \" \".concat(Number(sessionsFilter).toFixed(0));\n    }\n  }\n};",{"version":3,"sources":["DashboardAnalytics.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <!-- comment this out -->\r\n    <b-row>\r\n      <b-col>\r\n        <b-select\r\n          :options=\"['Physio', 'Center Admin','Super User']\"\r\n          class=\"mb-2 sm\"\r\n          v-model=\"viewAs\"\r\n        />\r\n      </b-col>\r\n    </b-row>\r\n    <!-- comment this out -->\r\n    <b-row>\r\n      <b-col>\r\n        <h1 class=\"page-title\">\r\n          Dashboard\r\n          <span class=\"fw-semi-bold\">Analytics</span>\r\n        </h1>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row>\r\n      <b-col xl=\"4\">\r\n        <Widget title=\"Sessions\" collapse>\r\n          <div class=\"d-flex justify-content-between align-items-center mb-lg mb-5\">\r\n            <p class=\"value0 text-primary mt-n-xs mr-n-xs\">\r\n              <animated-number\r\n                :value=\"data.w1_thisMonthBookings\"\r\n                :duration=\"300\"\r\n                round=\"1\"\r\n                :formatValue=\"formatTo\"\r\n              />\r\n              <!-- {{sessionsFilter}} -->\r\n            </p>\r\n          </div>\r\n          <div class=\"d-flex flex-wrap justify-content-between\">\r\n            <div class=\"mt\">\r\n              <h6>{{data.w1_lastMonthBookings}}</h6>\r\n              <p class=\"text-muted mb-0 mr\">\r\n                <small>Last Month</small>\r\n              </p>\r\n            </div>\r\n            <div class=\"mt-4\">\r\n              <h6>{{data.w1_highestBookings}}</h6>\r\n              <p class=\"text-muted mb-0 mr\">\r\n                <small>Highest</small>\r\n              </p>\r\n            </div>\r\n            <div class=\"headerPlace\" v-if=\"viewAs == 'Center Admin'\">\r\n              <b-select :options=\"sessionAdmin\" class=\"mb-2\" v-model=\"sessionsFilter\" size=\"sm\" />\r\n            </div>\r\n            <div class=\"headerPlace\" v-if=\"viewAs == 'Super User'\">\r\n              <b-select :options=\"sessionSuper\" class=\"mb-2\" v-model=\"sessionsFilter\" size=\"sm\" />\r\n            </div>\r\n          </div>\r\n        </Widget>\r\n      </b-col>\r\n      <b-col xl=\"4\" sm=\"6\">\r\n        <Widget title=\"Patients \" collapse>\r\n          <div id=\"chart\" class=\"mt-0\">\r\n            <apexchart\r\n              type=\"donut\"\r\n              height=\"180\"\r\n              width=\"100%\"\r\n              :options=\"patientsOption.option\"\r\n              :series=\"data.w2\"\r\n            ></apexchart>\r\n          </div>\r\n          <div class=\"mt headerPlace patient\" v-if=\"viewAs == 'Center Admin'\">\r\n            <b-select :options=\"patientsAdmin\" class=\"mb-2\" v-model=\"patientsFilter\" size=\"sm\" />\r\n          </div>\r\n          <div class=\"mt headerPlace patient\" v-if=\"viewAs == 'Super User'\">\r\n            <b-select :options=\"patientsSuper\" class=\"mb-2\" v-model=\"patientsFilter\" size=\"sm\" />\r\n          </div>\r\n        </Widget>\r\n      </b-col>\r\n      <b-col xl=\"4\" sm=\"6\">\r\n        <Widget title=\"KPI\" collapse>\r\n          <div class=\"d-flex justify-content-between align-items-center mb-lg mb-5\">\r\n            <p class=\"value0 mt-n-xs mr-n-xs\" :class=\"changeColor()\">\r\n              <animated-number\r\n                :value=\"kpiFilter\"\r\n                :duration=\"300\"\r\n                round=\"1\"\r\n                :formatValue=\"formatTo\"\r\n              />%\r\n            </p>\r\n          </div>\r\n          <div class=\"d-flex flex-wrap justify-content-between\">\r\n            <div class=\"mt\">\r\n              <h6>{{kpiLastMonth}}%</h6>\r\n              <p class=\"text-muted mb-0 mr\">\r\n                <small>Last Month</small>\r\n              </p>\r\n            </div>\r\n            <div class=\"mt-4\">\r\n              <h6>{{kpiHighest}}%</h6>\r\n              <p class=\"text-muted mb-0 mr\">\r\n                <small>Highest</small>\r\n              </p>\r\n            </div>\r\n            <div class=\"headerPlace\" v-if=\"viewAs == 'Center Admin'\">\r\n              <b-select :options=\"kpiAdmin\" class=\"mb-2\" v-model=\"kpiFilter\" size=\"sm\" />\r\n            </div>\r\n            <div class=\"headerPlace\" v-if=\"viewAs == 'Super User'\">\r\n              <b-select :options=\"kpiSuper\" class=\"mb-2\" v-model=\"kpiFilter\" size=\"sm\" />\r\n            </div>\r\n          </div>\r\n        </Widget>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row>\r\n      <b-col sm=\"6\">\r\n        <Widget title=\"Daily Sessions \" :fields=\"dailyFields\" collapse>\r\n          <b-row>\r\n            <export-button />\r\n          </b-row>\r\n          <b-table :items=\"daily\" :fields=\"dailyFields\" responsive>\r\n            <template v-slot:cell(action)=\"data\">\r\n              <b-button size=\"sm\" class variant=\"primary\">\r\n                <i class=\"fa fa-pencil\" />\r\n                <!-- {{data.item.action}} -->\r\n              </b-button>\r\n            </template>\r\n          </b-table>\r\n        </Widget>\r\n      </b-col>\r\n      <b-col sm=\"6\">\r\n        <Widget title=\"Daily Reports \" collapse>\r\n          <b-row>\r\n            <export-button />\r\n          </b-row>\r\n          <b-table :items=\"reports\" responsive :fields=\"reportsFields\">\r\n            <template v-slot:cell(action)=\"data\">\r\n              <b-button size=\"sm\" class variant=\"primary\">\r\n                <i class=\"fa fa-pencil\" />\r\n                <!-- {{data.item.action}} -->\r\n              </b-button>\r\n            </template>\r\n          </b-table>\r\n        </Widget>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row>\r\n      <b-col>\r\n        <Widget title=\"Completed Sessions \" collapse>\r\n          <div id=\"chart\">\r\n            <div class=\"toolbar\">\r\n              <b-button\r\n                variant=\"inverse\"\r\n                class=\"mr-2\"\r\n                id=\"monthly\"\r\n                @click=\"updateData('monthly')\"\r\n                :class=\"{active: selection==='monthly'}\"\r\n              >Monthly</b-button>\r\n\r\n              <b-button\r\n                variant=\"inverse\"\r\n                class=\"mr-2\"\r\n                id=\"weekly\"\r\n                @click=\"updateData('weekly')\"\r\n                :class=\"{active: selection==='weekly'}\"\r\n              >Weekly</b-button>\r\n\r\n              <b-button\r\n                variant=\"inverse\"\r\n                class=\"mr-2\"\r\n                id=\"daily\"\r\n                @click=\"updateData('daily')\"\r\n                :class=\"{active: selection==='daily'}\"\r\n              >Daily</b-button>\r\n            </div>\r\n\r\n            <div class=\"completedUser\" v-if=\"viewAs == 'Center Admin'\">\r\n              <b-select\r\n                :options=\"sessionAdminFilter\"\r\n                class=\"mb-2\"\r\n                v-model=\"selectCompletedData\"\r\n                size=\"sm\"\r\n              />\r\n            </div>\r\n            <div class=\"completedUser\" v-if=\"viewAs == 'Super User'\">\r\n              <b-select\r\n                :options=\"sessionSuperFilter\"\r\n                class=\"mb-2\"\r\n                v-model=\"selectCompletedData\"\r\n                size=\"sm\"\r\n              />\r\n            </div>\r\n\r\n            <div id=\"completed-sessions\">\r\n              <apexchart\r\n                type=\"area\"\r\n                height=\"350\"\r\n                :options=\"completedOption\"\r\n                :series=\"selectCompletedData\"\r\n                ref=\"chart\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </Widget>\r\n      </b-col>\r\n    </b-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Widget from \"../../components/Widget/Widget.vue\";\r\n\r\nimport AnimatedNumber from \"animated-number-vue\";\r\n\r\nimport ExportButton from \"./exportButton.vue\";\r\nimport completedSession from \"./completedSession\";\r\n\r\nimport patientsOption from \"./script/patientsOption\";\r\nimport patientsData from \"./patientsData\";\r\n\r\nexport default {\r\n  components: { ExportButton, AnimatedNumber, Widget },\r\n\r\n  data() {\r\n    return {\r\n      viewAs: \"Physio\",\r\n      selection: \"one_year\",\r\n      sessionsLastMonth: 66,\r\n      sessionsHighest: 110,\r\n      kpiLastMonth: 83,\r\n      kpiHighest: 96,\r\n      kpiFilter: 43,\r\n      sessionsFilter: 33,\r\n      completedSession: completedSession,\r\n      patientsOption: patientsOption,\r\n      patientsData: patientsData,\r\n      patientsFilter: patientsData.myPatient,\r\n      selectCompletedData: completedSession.my,\r\n\r\n      patientsAdmin: [\r\n        { value: patientsData.myPatient, text: \"My\" },\r\n        { value: patientsData.centrePatient, text: \"Centre\" }\r\n      ],\r\n      patientsSuper: [\r\n        { value: patientsData.myPatient, text: \"My\" },\r\n        { value: patientsData.centrePatient, text: \"Ampang\" },\r\n        { value: patientsData.ttdiPatient, text: \"TTDI\" },\r\n        { value: patientsData.totalPatient, text: \"Total\" }\r\n      ],\r\n\r\n      sessionAdmin: [\r\n        { value: 33, text: \"My\" },\r\n        { value: 55, text: \"Centre\" }\r\n      ],\r\n      sessionSuper: [\r\n        { value: 33, text: \"My\" },\r\n        { value: 55, text: \"Ampang\" },\r\n        { value: 66, text: \"TTDI\" },\r\n        { value: 120, text: \"Total\" }\r\n      ],\r\n\r\n      kpiAdmin: [\r\n        { value: 43, text: \"My\" },\r\n        { value: 89, text: \"Centre\" }\r\n      ],\r\n      kpiSuper: [\r\n        { value: 43, text: \"My\" },\r\n        { value: 89, text: \"Ampang\" },\r\n        { value: 60, text: \"TTDI\" },\r\n        { value: 83, text: \"Total\" }\r\n      ],\r\n\r\n      sessionAdminFilter: [\r\n        { value: completedSession.my, text: \"My\" },\r\n        { value: completedSession.ampang, text: \"Centre\" }\r\n      ],\r\n      sessionSuperFilter: [\r\n        { value: completedSession.my, text: \"My\" },\r\n        { value: completedSession.ampang, text: \"Ampang\" },\r\n        { value: completedSession.ttdi, text: \"TTDI\" },\r\n        { value: completedSession.total, text: \"Total\" }\r\n      ],\r\n\r\n      //\r\n\r\n      dailyFields: [\r\n        \"name\",\r\n        { key: \"center\", class: \"text-center\" },\r\n        { key: \"time\", class: \"text-center\" },\r\n        { key: \"action\", class: \"text-center\" }\r\n      ],\r\n      daily: [\r\n        { name: \"Roy\", center: \"Ampang\", time: \"9 AM\" },\r\n        { name: \"Vin\", center: \"Ampang\", time: \"9 AM\" },\r\n        { name: \"Diesel\", center: \"Ampang\", time: \"9 AM\" },\r\n        { name: \"Jerax\", center: \"Ampang\", time: \"9 AM\" },\r\n        { name: \"Topson\", center: \"Ampang\", time: \"9 AM\" }\r\n      ],\r\n\r\n      reportsFields: [\r\n        \"name\",\r\n        { key: \"center\", class: \"text-center\" },\r\n        { key: \"time\", label: \"time left\", class: \"text-center\" },\r\n        { key: \"action\", class: \"text-center\" }\r\n      ],\r\n      reports: [\r\n        { name: \"Roy\", center: \"Ampang\", time: \"2 min\" },\r\n        { name: \"Vin\", center: \"Ampang\", time: \"3 h\" },\r\n        { name: \"Diesel\", center: \"Ampang\", time: \"24 h\" },\r\n        { name: \"Jerax\", center: \"Ampang\", time: \"32 h\" },\r\n        { name: \"Topson\", center: \"Ampang\", time: \"48 h\" }\r\n      ],\r\n      //option data for completed sessions graph\r\n      completedOption: {\r\n        tooltip: {\r\n          theme: \"dark\"\r\n        },\r\n        legend: {\r\n          labels: {\r\n            colors: \"#fff\"\r\n          }\r\n        },\r\n        dataLabels: {\r\n          enabled: false\r\n        },\r\n        xaxis: {\r\n          type: \"datetime\",\r\n          min: new Date(\"01 Mar 2012\").getTime(),\r\n          labels: {\r\n            style: {\r\n              colors: \"#000\"\r\n            }\r\n          },\r\n          axisBorder: {\r\n            show: false\r\n          },\r\n          axisTicks: {\r\n            show: false\r\n          }\r\n        },\r\n        yaxis: {\r\n          labels: {\r\n            style: {\r\n              colors: \"#000\"\r\n            }\r\n          }\r\n        },\r\n        grid: {\r\n          show: true,\r\n          borderColor: \"#00000059\",\r\n          strokeDashArray: 0,\r\n          position: \"back\",\r\n          xaxis: {\r\n            lines: {\r\n              show: false\r\n            }\r\n          },\r\n          yaxis: {\r\n            lines: {\r\n              show: true\r\n            }\r\n          },\r\n          row: {\r\n            opacity: 0.5\r\n          }\r\n        },\r\n        colors: [\"#FF4560\", \"#1870DC\"],\r\n        fill: {\r\n          type: \"gradient\",\r\n          gradient: {\r\n            shadeIntensity: 0.5,\r\n            opacityFrom: 0.1,\r\n            opacityTo: 0.3,\r\n            stops: [0, 90, 100]\r\n          }\r\n        },\r\n        chart: {\r\n          id: \"area-datetime\",\r\n          type: \"area\",\r\n          zoom: {\r\n            type: \"x\",\r\n            enabled: true,\r\n            autoScaleYaxis: true\r\n          },\r\n          toolbar: {\r\n            offsetX: -15,\r\n            offsetY: -38,\r\n            autoSelected: \"zoom\"\r\n          },\r\n          dataLabels: {\r\n            enabled: false\r\n          },\r\n          stroke: {\r\n            curve: \"smooth\"\r\n          }\r\n        }\r\n      },\r\n      data:{\r\n        w1_thisMonthBookings:0,\r\n        w1_lastMonthBookings:0,\r\n        w1_highestBookings:0\r\n      }\r\n    };\r\n  },\r\nmounted(){\r\n        \r\n    this.getWidgetOne();\r\n    this.getWidgetTwo();\r\n  \r\n  },\r\n  methods: {\r\n    async getWidgetOne() {\r\n  try {\r\n   const response = await this.axios.get('http://localhost:8000/dashboardAnalytics/w1')\r\n   this.data.w1_highestBookings = response.data.highestBookings;\r\n   this.data.w1_thisMonthBookings = response.data.thisMonthBookings;\r\n   this.data.w1_lastMonthBookings = response.data.lastMonthBookings;\r\n \r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n},\r\n async getWidgetTwo() {\r\n  try {\r\n   const response = await this.axios.get('http://localhost:8000/dashboardAnalytics/w2')\r\n   this.data.w2 = [response.data.newProgrammes,response.data.recurringProgrammes];\r\n \r\n \r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n},\r\n    changeColor() {\r\n      if (this.kpiFilter >= 80 && this.kpiFilter <= 100) {\r\n        return \"text-success\";\r\n      } else if (this.kpiFilter < 80 && this.kpiFilter >= 50) {\r\n        return \"text-warning\";\r\n      } else if (this.kpiFilter < 50) {\r\n        return \"text-danger\";\r\n      } else {\r\n        return \"\";\r\n      }\r\n    },\r\n    updateData(timeline) {\r\n      this.selection = timeline;\r\nvar date = new Date();\r\nvar start = new Date();\r\nstart.setHours(0,0,0,0);\r\n\r\nvar end = new Date();\r\nend.setHours(23,59,59,999);\r\n      switch (timeline) {\r\n        case \"monthly\":\r\n          this.$refs.chart.zoomX(\r\n           new Date(date.getFullYear(), date.getMonth(), 1).getTime(),\r\n         new Date(date.getFullYear(), date.getMonth() + 1, 0).getTime()\r\n          );\r\n          break;\r\n        case \"weekly\":\r\n          this.$refs.chart.zoomX(\r\n      new Date(date.getFullYear(), date.getMonth(), date.getDate() + (date.getDay() == 0?-6:1)- date.getDay()).getTime(),\r\n         new Date(date.getFullYear(), date.getMonth(), date.getDate() + (date.getDay() == 0?0:7)- date.getDay()).getTime()\r\n          );\r\n          break;\r\n        case \"daily\":\r\n          this.$refs.chart.zoomX(\r\n           start.getTime(),\r\n           end.getTime()\r\n          );\r\n          break;\r\n        default:\r\n      }\r\n    },\r\n    formatTo(sessionsFilter) {\r\n      return ` ${Number(sessionsFilter).toFixed(0)}`;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.sm {\r\n  max-width: fit-content;\r\n}\r\n.headerPlace {\r\n  position: absolute;\r\n  top: 0%;\r\n  right: 50px;\r\n  margin-top: 10px;\r\n  font-size: 12px;\r\n  height: 20px;\r\n}\r\n.headerPlace.patient {\r\n  right: 80px;\r\n}\r\n.completedUser {\r\n  position: absolute;\r\n  top: 0%;\r\n  right: 50px;\r\n  margin-top: 10px;\r\n}\r\n.page-title{\r\n  color: white;\r\n}\r\n</style>"],"sourceRoot":"src\\pages\\AnalyticsDbc"}]}