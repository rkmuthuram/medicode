{"remainingRequest":"F:\\sunrisers\\kka-pj\\adminPortal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\sunrisers\\kka-pj\\adminPortal\\src\\pages\\Accounts\\ClinicAccountUpdate.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\sunrisers\\kka-pj\\adminPortal\\src\\pages\\Accounts\\ClinicAccountUpdate.vue","mtime":1597210918855},{"path":"F:\\sunrisers\\kka-pj\\adminPortal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1591157758729},{"path":"F:\\sunrisers\\kka-pj\\adminPortal\\node_modules\\babel-loader\\lib\\index.js","mtime":1591157735766},{"path":"F:\\sunrisers\\kka-pj\\adminPortal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1591157758729},{"path":"F:\\sunrisers\\kka-pj\\adminPortal\\node_modules\\vue-loader\\lib\\index.js","mtime":1591157760591}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport 'imports-loader?$=jquery,this=>window!messenger/build/js/messenger'; // eslint-disable-line\r\nimport Widget from '@/components/Widget/Widget';\r\nimport vSelect from 'vue-select';\r\nimport vue2Dropzone from 'vue2-dropzone';\r\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css';\r\nconst { Messenger } = window;\r\n\r\n/* eslint-disable */\r\nfunction initializationMessengerCode() {\r\n  (function () {\r\n    let $,\r\n      FlatMessage,\r\n      spinner_template,\r\n      __hasProp = {}.hasOwnProperty,\r\n      __extends = function (child, parent) {\r\n        for (const key in parent) {\r\n          if (__hasProp.call(parent, key)) child[key] = parent[key];\r\n        }\r\n\r\n        function ctor() {\r\n          this.constructor = child;\r\n        }\r\n\r\n        ctor.prototype = parent.prototype;\r\n        child.prototype = new ctor();\r\n        child.__super__ = parent.prototype;\r\n        return child;\r\n      };\r\n\r\n    $ = jQuery;\r\n\r\n    spinner_template = '<div class=\"messenger-spinner\">\\n    <span class=\"messenger-spinner-side messenger-spinner-side-left\">\\n        <span class=\"messenger-spinner-fill\"></span>\\n    </span>\\n    <span class=\"messenger-spinner-side messenger-spinner-side-right\">\\n        <span class=\"messenger-spinner-fill\"></span>\\n    </span>\\n</div>';\r\n\r\n    FlatMessage = (function (_super) {\r\n      __extends(FlatMessage, _super);\r\n\r\n      function FlatMessage() {\r\n        return FlatMessage.__super__.constructor.apply(this, arguments);\r\n      }\r\n\r\n      FlatMessage.prototype.template = function (opts) {\r\n        let $message;\r\n        $message = FlatMessage.__super__.template.apply(this, arguments);\r\n        $message.append($(spinner_template));\r\n        return $message;\r\n      };\r\n\r\n      return FlatMessage;\r\n    }(Messenger.Message));\r\n\r\n    Messenger.themes.air = {\r\n      Message: FlatMessage,\r\n    };\r\n  }).call(window);\r\n}\r\n/* eslint-enable */\r\n\r\nexport default {\r\n  name: 'FormValidation',\r\n  components: { Widget,vSelect,vueDropzone: vue2Dropzone },\r\n  data() {\r\n    return {\r\n      data:{},\r\n      clinicId: this.$route.params.clinicId,\r\n     isLoading:false,\r\n     locationClasses: 'messenger-fixed messenger-on-top messenger-on-right',\r\n        dropzoneOptions2: {\r\n          url: 'https://backend.medicodesolution.com/staging/clinic/photo/upload',\r\n          thumbnailWidth: 150,\r\n          maxFilesize: 5.0,\r\n          maxFiles: 1,\r\n          addRemoveLinks: true,\r\n          acceptedFiles:'image/*'\r\n          //autoProcessQueue: false\r\n          \r\n      },\r\n         cover_image:[],\r\n    };\r\n  },\r\n  methods: {\r\n    navigateToView(){\r\n        this.$router.push({name:'ClinicAccountView' , params:{clinicId:this.clinicId}});\r\n    },\r\n     removeCoverImage(i){\r\n      this.cover_image.splice(i,1);\r\n    },\r\n        checkCoverImage(file){\r\n      if(this.cover_image.length > 0){\r\n         this.$refs.myVueDropzone2.removeAllFiles();\r\n         return Messenger().post({ type:'error',message :\"Remove existing cover image before uploading new image!\"});\r\n      }\r\n    },\r\n            onDropzoneUploadComplete2(file){\r\n    //   console.log(this.cover_image);\r\n    var myfiles2 = this.$refs.myVueDropzone2.getAcceptedFiles();\r\n    var i = 0;\r\n  for(i=0; i < myfiles2.length;i++){\r\n  //console.log(myfiles2[i].xhr.response);\r\n  this.cover_image.push(myfiles2[i].xhr.response);\r\n  if(i == myfiles2.length){\r\n \r\n  }\r\n  }\r\n     this.upload++;\r\n     console.log(this.upload);\r\n  //console.log(this.cover_image);\r\n    },\r\n    async getAccount() {\r\n  try {\r\n   const response = await this.axios.get('https://backend.medicodesolution.com/staging/clinic/'+ this.clinicId)\r\n   this.data= response.data.accountInfo[0];\r\n   this.cover_image[0] = response.data.accountInfo[0].photoUrl;\r\n    \r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n},\r\n    onSubmit(e) {\r\n       var self = this;\r\n       \r\n      e.preventDefault();\r\n       if(self.cover_image[0] == undefined){\r\n       self.cover_image[0] = '';\r\n     }\r\n      self.$validator.validateAll().then((result) => {\r\n\t\t  if (result) {\r\n     \r\n                self.axios.patch('https://backend.medicodesolution.com/staging/clinic/'+ self.data.id, {\r\n              \r\n        name:self.data.name,\r\n        ref_id:self.data.ref_id,\r\n        pic_name:self.data.pic_name,\r\n        pic_email:self.data.pic_email,\r\n        pic_tel_no:self.data.pic_tel_no,\r\n        address_street:self.data.address_street,\r\n        address_city:self.data.address_city,\r\n        address_state:self.data.address_state,\r\n        photoUrl:self.cover_image[0],\r\n                })\r\n                .then(function (response) {\r\n                  console.log(response);\r\n                if(response.status == 200 && response.data.success){\r\n                Messenger().post({message:response.data.success, hideAfter: 3,showCloseButton:true});\r\n                return self.navigateToView();\r\n                }\r\n                else {\r\n                  if(response.data.error){\r\n                    self.isLoading = false;\r\n                  return Messenger().post({ type:'error',message :response.data.error, hideAfter: 3,showCloseButton:true});\r\n          \r\n                  }\r\n                 else {\r\n                   self.isLoading = false;\r\n                 return Messenger().post({ type:'error',message :response.error, hideAfter: 3,showCloseButton:true});\r\n                   }\r\n                }\r\n                })\r\n                .catch(function (error) {\r\n                  self.isLoading = false;\r\n                  return Messenger().post({ type:'error',message :error, hideAfter: 3,showCloseButton:true});                \r\n                });   \r\n\t\t  }\r\n                  if(!result){\r\n                    self.isLoading = false;\r\n        \t          return;\r\n                  }\r\n\t\t});\r\n    },\r\n  },\r\n   mounted(){\r\n     this.getAccount();    \r\n   },\r\n     created() {\r\n    initializationMessengerCode();\r\n    Messenger.options = {\r\n      extraClasses: this.locationClasses,\r\n      theme: 'air',\r\n      showCloseButton: true,\r\n    };\r\n  \r\n  },\r\n};\r\n",{"version":3,"sources":["ClinicAccountUpdate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiPA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"ClinicAccountUpdate.vue","sourceRoot":"src\\pages\\Accounts","sourcesContent":["<template>\r\n  <div>\r\n    <ol class=\"breadcrumb\">\r\n      <li class=\"breadcrumb-item\">YOU ARE HERE</li>\r\n      <li class=\"breadcrumb-item active\">Update Account - {{data.name}}</li>\r\n    </ol>\r\n\r\n\r\n    <b-row>\r\n      <b-col lg='8' xs='12'>\r\n        <Widget\r\n          title=\"<h5>        \r\n            <small>Edit & Click Update </small>\r\n          </h5>\"\r\n          customHeader \r\n        >\r\n          <b-form @submit=\"onSubmit\">\r\n            <fieldset>\r\n              <legend>\r\n               \r\n              </legend>\r\n                 <b-form-group\r\n                horizontal\r\n                :label-cols=\"3\"\r\n                label-breakpoint=\"md\"\r\n                label-for=\"accountname\"\r\n                description=\"\"\r\n              >\r\n                <div slot=\"label\">\r\n                 Account Name\r\n                </div>\r\n                <input\r\n                  data-vv-validate-on=\"change\"\r\n                  v-validate=\"'required|min:5'\"\r\n                  name=\"accountname\"\r\n                  :class=\"{ 'form-control': true, 'is-invalid': errors.has('accountname')}\"\r\n                  type=\"text\"\r\n                v-model=\"data.name\"\r\n                />\r\n                <span class=\"text-danger\" v-if=\"errors.has('accountname')\">\r\n                  {{ errors.first('accountname') }}\r\n                </span>\r\n              </b-form-group>\r\n                    \r\n    <b-form-group\r\n                horizontal\r\n                :label-cols=\"3\"\r\n                label-breakpoint=\"md\"\r\n                label-for=\"ref_num\"\r\n                description=\"\"\r\n              >\r\n                <div slot=\"label\">\r\n                 Reference ID (Internal)\r\n                </div>\r\n                <input\r\n                  data-vv-validate-on=\"change\"\r\n                  v-validate=\"'required|min:5'\"\r\n                  name=\"ref_id\"\r\n                  :class=\"{ 'form-control': true, 'is-invalid': errors.has('ref_id')}\"\r\n                  type=\"text\"\r\n                v-model=\"data.ref_id\"\r\n                />\r\n                <span class=\"text-danger\" v-if=\"errors.has('ref_id')\">\r\n                  {{ errors.first('ref_id') }}\r\n                </span>\r\n              </b-form-group>\r\n       \r\n               \r\n               <br>\r\n                       <b-form-group\r\n                horizontal\r\n                :label-cols=\"3\"\r\n                label-breakpoint=\"md\"\r\n                label-for=\"picname\"\r\n                description=\"\"\r\n              >\r\n                <div slot=\"label\">\r\n                 PIC Name\r\n                </div>\r\n                <input\r\n                  data-vv-validate-on=\"change\"\r\n                  v-validate=\"'required|min:5'\"\r\n                  name=\"picname\"\r\n                  :class=\"{ 'form-control': true, 'is-invalid': errors.has('picname')}\"\r\n                  type=\"text\"\r\n                v-model=\"data.pic_name\"\r\n                />\r\n                <span class=\"text-danger\" v-if=\"errors.has('picname')\">\r\n                  {{ errors.first('picname') }}\r\n                </span>\r\n              </b-form-group>\r\n                <b-form-group\r\n                horizontal\r\n                label=\"PIC E-mail\"\r\n                :label-cols=\"3\"\r\n                label-breakpoint=\"md\"\r\n                label-for=\"picemail\"\r\n              >\r\n                <input\r\n                  v-validate=\"'required|email'\"\r\n                  name=\"picemail\"\r\n                  :class=\"{ 'form-control': true, 'is-invalid': errors.has('picemail')}\"\r\n                  type=\"text\"\r\n                 v-model=\"data.pic_email\"\r\n                />\r\n                <span class=\"text-danger\" v-if=\"errors.has('picemail')\">\r\n                  {{ errors.first('picemail') }}\r\n                </span>\r\n              </b-form-group>\r\n\r\n            <b-form-group\r\n                horizontal\r\n                :label-cols=\"3\"\r\n                label-breakpoint=\"md\"\r\n                label-for=\"pictel_no\"\r\n                description=\"If overseas include call code\"\r\n              >\r\n                <div slot=\"label\">\r\n                PIC Telephone Number\r\n                </div>\r\n                <input\r\n                  data-vv-validate-on=\"change\"\r\n                  v-validate=\"'required|min:7'\"\r\n                  name=\"pictel_no\"\r\n                  :class=\"{ 'form-control': true, 'is-invalid': errors.has('pictel_no')}\"\r\n                  type=\"text\"\r\n               v-model=\"data.pic_tel_no\"\r\n                />\r\n                <span class=\"text-danger\" v-if=\"errors.has('pictel_no')\">\r\n                  {{ errors.first('pictel_no') }}\r\n                </span>\r\n              </b-form-group>\r\n\r\n                   \r\n      <b-form-group\r\n                horizontal\r\n                :label-cols=\"3\"\r\n                label-breakpoint=\"md\"\r\n                label-for=\"address_street\"\r\n             \r\n              >\r\n                <div slot=\"label\">\r\n              Street Address\r\n                </div>\r\n              <textarea-autosize\r\n                                  v-model=\"data.address_street\"\r\n                                placeholder=\"\"\r\n                                :min-height=\"35\"\r\n                                  v-validate=\"'required|min:4'\"\r\n                             :class=\"{ 'form-control': true}\"\r\n                                id=\"street_address\"\r\n                                name=\"street_address\"\r\n                                />\r\n             \r\n              </b-form-group>\r\n\r\n              <b-form-group\r\n                horizontal\r\n                :label-cols=\"3\"\r\n                label-breakpoint=\"md\"\r\n                label-for=\"add\"\r\n               \r\n              >\r\n                <div slot=\"label\">\r\n               City/Town\r\n                </div>\r\n                <input\r\n                  data-vv-validate-on=\"change\"\r\n                  v-validate=\"'required|min:4'\"\r\n                  name=\"city_address\"\r\n                  :class=\"{ 'form-control': true, 'is-invalid': errors.has('city_address')}\"\r\n                  type=\"text\"\r\n               v-model=\"data.address_city\"\r\n                />\r\n                <span class=\"text-danger\" v-if=\"errors.has('city_address')\">\r\n                  {{ errors.first('city_address') }}\r\n                </span>\r\n              </b-form-group>    \r\n\r\n         <b-form-group\r\n              label=\"State\"\r\n              label-for=\"default-select\"\r\n              :label-cols=\"3\"\r\n              description=\"\"\r\n            >\r\n              <b-row>\r\n                <b-col md='9'>\r\n                  <v-select\r\n                    v-validate=\"'required'\"\r\n                    \r\n                    class=\"mt-xs\"\r\n                    v-model=\"data.address_state\"\r\n                    :options=\"['Johor','Kedah','Kelantan','Kuala Lumpur','Labuan','Melaka','Negeri Sembilan','Pahang','Perak','Perlis','Pulau Pinang','Putrajaya','Sabah','Sarawak','Selangor','Terengganu']\"\r\n                  />\r\n                </b-col>\r\n              </b-row>\r\n            </b-form-group>      \r\n    <b-form-group\r\n                horizontal\r\n                :label-cols=\"3\"\r\n                label-breakpoint=\"md\"\r\n                label-for=\"price\"\r\n                description=\"1 image only\"\r\n              >\r\n                <div slot=\"label\">\r\n                Profile Image\r\n                </div>\r\n  <ul id=\"example-1\">\r\n  <li v-for=\"item,index in cover_image\" v-if=\"cover_image!=''\">\r\n  <img :src=\"item\" width=\"100px\" height=\"60px\">   \r\n  &nbsp;&nbsp; <b-button variant=\"warning\" size=\"xs\" class=\"mb-xs mr-xs\" @click=\"removeCoverImage(index)\">Remove Image</b-button>\r\n  </li>\r\n</ul>\r\n\r\n              <vue-dropzone ref=\"myVueDropzone2\" id=\"dropzone2\" :options=\"dropzoneOptions2\"  v-on:vdropzone-file-added=\"checkCoverImage\" v-on:vdropzone-queue-complete=\"onDropzoneUploadComplete2\"></vue-dropzone>\r\n       \r\n                <span class=\"text-danger\" v-if=\"errors.has('minlength')\">\r\n                  {{ errors.first('minlength') }}\r\n                </span>\r\n              </b-form-group>\r\n\r\n\r\n\r\n            </fieldset>\r\n            <div class=\"form-action\">\r\n             \r\n              <b-button type=\"button\" variant=\"default\" class=\"btn-rounded\" @click=\"navigateToView()\" >\r\n               Back\r\n              </b-button>\r\n              <b-button type=\"submit\" variant=\"danger\" class=\"btn-rounded float-right\" v-if=\"isLoading==false\">\r\n                Update\r\n              </b-button>\r\n            </div>\r\n          </b-form>\r\n        </Widget>\r\n      </b-col>\r\n    </b-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport 'imports-loader?$=jquery,this=>window!messenger/build/js/messenger'; // eslint-disable-line\r\nimport Widget from '@/components/Widget/Widget';\r\nimport vSelect from 'vue-select';\r\nimport vue2Dropzone from 'vue2-dropzone';\r\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css';\r\nconst { Messenger } = window;\r\n\r\n/* eslint-disable */\r\nfunction initializationMessengerCode() {\r\n  (function () {\r\n    let $,\r\n      FlatMessage,\r\n      spinner_template,\r\n      __hasProp = {}.hasOwnProperty,\r\n      __extends = function (child, parent) {\r\n        for (const key in parent) {\r\n          if (__hasProp.call(parent, key)) child[key] = parent[key];\r\n        }\r\n\r\n        function ctor() {\r\n          this.constructor = child;\r\n        }\r\n\r\n        ctor.prototype = parent.prototype;\r\n        child.prototype = new ctor();\r\n        child.__super__ = parent.prototype;\r\n        return child;\r\n      };\r\n\r\n    $ = jQuery;\r\n\r\n    spinner_template = '<div class=\"messenger-spinner\">\\n    <span class=\"messenger-spinner-side messenger-spinner-side-left\">\\n        <span class=\"messenger-spinner-fill\"></span>\\n    </span>\\n    <span class=\"messenger-spinner-side messenger-spinner-side-right\">\\n        <span class=\"messenger-spinner-fill\"></span>\\n    </span>\\n</div>';\r\n\r\n    FlatMessage = (function (_super) {\r\n      __extends(FlatMessage, _super);\r\n\r\n      function FlatMessage() {\r\n        return FlatMessage.__super__.constructor.apply(this, arguments);\r\n      }\r\n\r\n      FlatMessage.prototype.template = function (opts) {\r\n        let $message;\r\n        $message = FlatMessage.__super__.template.apply(this, arguments);\r\n        $message.append($(spinner_template));\r\n        return $message;\r\n      };\r\n\r\n      return FlatMessage;\r\n    }(Messenger.Message));\r\n\r\n    Messenger.themes.air = {\r\n      Message: FlatMessage,\r\n    };\r\n  }).call(window);\r\n}\r\n/* eslint-enable */\r\n\r\nexport default {\r\n  name: 'FormValidation',\r\n  components: { Widget,vSelect,vueDropzone: vue2Dropzone },\r\n  data() {\r\n    return {\r\n      data:{},\r\n      clinicId: this.$route.params.clinicId,\r\n     isLoading:false,\r\n     locationClasses: 'messenger-fixed messenger-on-top messenger-on-right',\r\n        dropzoneOptions2: {\r\n          url: 'https://backend.medicodesolution.com/staging/clinic/photo/upload',\r\n          thumbnailWidth: 150,\r\n          maxFilesize: 5.0,\r\n          maxFiles: 1,\r\n          addRemoveLinks: true,\r\n          acceptedFiles:'image/*'\r\n          //autoProcessQueue: false\r\n          \r\n      },\r\n         cover_image:[],\r\n    };\r\n  },\r\n  methods: {\r\n    navigateToView(){\r\n        this.$router.push({name:'ClinicAccountView' , params:{clinicId:this.clinicId}});\r\n    },\r\n     removeCoverImage(i){\r\n      this.cover_image.splice(i,1);\r\n    },\r\n        checkCoverImage(file){\r\n      if(this.cover_image.length > 0){\r\n         this.$refs.myVueDropzone2.removeAllFiles();\r\n         return Messenger().post({ type:'error',message :\"Remove existing cover image before uploading new image!\"});\r\n      }\r\n    },\r\n            onDropzoneUploadComplete2(file){\r\n    //   console.log(this.cover_image);\r\n    var myfiles2 = this.$refs.myVueDropzone2.getAcceptedFiles();\r\n    var i = 0;\r\n  for(i=0; i < myfiles2.length;i++){\r\n  //console.log(myfiles2[i].xhr.response);\r\n  this.cover_image.push(myfiles2[i].xhr.response);\r\n  if(i == myfiles2.length){\r\n \r\n  }\r\n  }\r\n     this.upload++;\r\n     console.log(this.upload);\r\n  //console.log(this.cover_image);\r\n    },\r\n    async getAccount() {\r\n  try {\r\n   const response = await this.axios.get('https://backend.medicodesolution.com/staging/clinic/'+ this.clinicId)\r\n   this.data= response.data.accountInfo[0];\r\n   this.cover_image[0] = response.data.accountInfo[0].photoUrl;\r\n    \r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n},\r\n    onSubmit(e) {\r\n       var self = this;\r\n       \r\n      e.preventDefault();\r\n       if(self.cover_image[0] == undefined){\r\n       self.cover_image[0] = '';\r\n     }\r\n      self.$validator.validateAll().then((result) => {\r\n\t\t  if (result) {\r\n     \r\n                self.axios.patch('https://backend.medicodesolution.com/staging/clinic/'+ self.data.id, {\r\n              \r\n        name:self.data.name,\r\n        ref_id:self.data.ref_id,\r\n        pic_name:self.data.pic_name,\r\n        pic_email:self.data.pic_email,\r\n        pic_tel_no:self.data.pic_tel_no,\r\n        address_street:self.data.address_street,\r\n        address_city:self.data.address_city,\r\n        address_state:self.data.address_state,\r\n        photoUrl:self.cover_image[0],\r\n                })\r\n                .then(function (response) {\r\n                  console.log(response);\r\n                if(response.status == 200 && response.data.success){\r\n                Messenger().post({message:response.data.success, hideAfter: 3,showCloseButton:true});\r\n                return self.navigateToView();\r\n                }\r\n                else {\r\n                  if(response.data.error){\r\n                    self.isLoading = false;\r\n                  return Messenger().post({ type:'error',message :response.data.error, hideAfter: 3,showCloseButton:true});\r\n          \r\n                  }\r\n                 else {\r\n                   self.isLoading = false;\r\n                 return Messenger().post({ type:'error',message :response.error, hideAfter: 3,showCloseButton:true});\r\n                   }\r\n                }\r\n                })\r\n                .catch(function (error) {\r\n                  self.isLoading = false;\r\n                  return Messenger().post({ type:'error',message :error, hideAfter: 3,showCloseButton:true});                \r\n                });   \r\n\t\t  }\r\n                  if(!result){\r\n                    self.isLoading = false;\r\n        \t          return;\r\n                  }\r\n\t\t});\r\n    },\r\n  },\r\n   mounted(){\r\n     this.getAccount();    \r\n   },\r\n     created() {\r\n    initializationMessengerCode();\r\n    Messenger.options = {\r\n      extraClasses: this.locationClasses,\r\n      theme: 'air',\r\n      showCloseButton: true,\r\n    };\r\n  \r\n  },\r\n};\r\n</script>\r\n"]}]}