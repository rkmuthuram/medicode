{"remainingRequest":"F:\\antorse\\dbc-asia-phase2\\dbc_phase_2\\physioPortal\\node_modules\\thread-loader\\dist\\cjs.js!F:\\antorse\\dbc-asia-phase2\\dbc_phase_2\\physioPortal\\node_modules\\babel-loader\\lib\\index.js!F:\\antorse\\dbc-asia-phase2\\dbc_phase_2\\physioPortal\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\antorse\\dbc-asia-phase2\\dbc_phase_2\\physioPortal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\antorse\\dbc-asia-phase2\\dbc_phase_2\\physioPortal\\src\\pages\\Bookings\\BlockingsCreate.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\antorse\\dbc-asia-phase2\\dbc_phase_2\\physioPortal\\src\\pages\\Bookings\\BlockingsCreate.vue","mtime":1593266237971},{"path":"F:\\antorse\\dbc-asia-phase2\\dbc_phase_2\\physioPortal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1591157758729},{"path":"F:\\antorse\\dbc-asia-phase2\\dbc_phase_2\\physioPortal\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1591157760290},{"path":"F:\\antorse\\dbc-asia-phase2\\dbc_phase_2\\physioPortal\\node_modules\\babel-loader\\lib\\index.js","mtime":1591157735766},{"path":"F:\\antorse\\dbc-asia-phase2\\dbc_phase_2\\physioPortal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1591157758729},{"path":"F:\\antorse\\dbc-asia-phase2\\dbc_phase_2\\physioPortal\\node_modules\\vue-loader\\lib\\index.js","mtime":1591157760591}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport 'imports-loader?$=jquery,this=>window!messenger/build/js/messenger'; // eslint-disable-line\n\nimport Widget from '@/components/Widget/Widget';\nimport vSelect from 'vue-select';\nimport DatePicker from 'vue2-datepicker';\nimport Vue from 'vue';\nvar _window = window,\n    Messenger = _window.Messenger;\n/* eslint-disable */\n\nfunction initializationMessengerCode() {\n  (function () {\n    var $,\n        FlatMessage,\n        spinner_template,\n        __hasProp = {}.hasOwnProperty,\n        __extends = function __extends(child, parent) {\n      for (var key in parent) {\n        if (__hasProp.call(parent, key)) child[key] = parent[key];\n      }\n\n      function ctor() {\n        this.constructor = child;\n      }\n\n      ctor.prototype = parent.prototype;\n      child.prototype = new ctor();\n      child.__super__ = parent.prototype;\n      return child;\n    };\n\n    $ = jQuery;\n    spinner_template = '<div class=\"messenger-spinner\">\\n    <span class=\"messenger-spinner-side messenger-spinner-side-left\">\\n        <span class=\"messenger-spinner-fill\"></span>\\n    </span>\\n    <span class=\"messenger-spinner-side messenger-spinner-side-right\">\\n        <span class=\"messenger-spinner-fill\"></span>\\n    </span>\\n</div>';\n\n    FlatMessage = function (_super) {\n      __extends(FlatMessage, _super);\n\n      function FlatMessage() {\n        return FlatMessage.__super__.constructor.apply(this, arguments);\n      }\n\n      FlatMessage.prototype.template = function (opts) {\n        var $message;\n        $message = FlatMessage.__super__.template.apply(this, arguments);\n        $message.append($(spinner_template));\n        return $message;\n      };\n\n      return FlatMessage;\n    }(Messenger.Message);\n\n    Messenger.themes.air = {\n      Message: FlatMessage\n    };\n  }).call(window);\n}\n/* eslint-enable */\n\n\nexport default {\n  name: 'FormValidation',\n  components: {\n    Widget: Widget,\n    vSelect: vSelect,\n    DatePicker: DatePicker\n  },\n  data: function data() {\n    return {\n      data: {\n        date: '',\n        branch: '',\n        session: {},\n        time: '',\n        capacity: ''\n      },\n      start_time: '',\n      end_time: '',\n      locationClasses: 'messenger-fixed messenger-on-top messenger-on-right',\n      isLoading: false,\n      allMembersInfo: []\n    };\n  },\n  methods: {\n    addToList: function addToList() {\n      var time = this.data.time;\n      var capacity = this.data.capacity;\n      this.data.time = '';\n      this.data.capacity = 0;\n      return this.data.session[time] = parseInt(capacity);\n    },\n    navigateToList: function navigateToList() {\n      this.$router.push({\n        name: 'BlockedListing'\n      });\n    },\n    onSubmit: function onSubmit(e) {\n      var self = this;\n      e.preventDefault();\n\n      if (self.data.date == '' || self.data.branch == '' || Object.keys(self.data.session).length === 0 && self.data.session.constructor === Object) {\n        return Messenger().post({\n          type: 'error',\n          message: \"Fill up all fields & Add at least one sesion to list before clicking Submit\"\n        });\n      } // self.isLoading = true;\n\n\n      var session = JSON.stringify(self.data.session);\n      self.axios.post('https://dbc-asia-269419.appspot.com/blocked_sessions/add', {\n        date: self.data.date,\n        branch: self.data.branch,\n        session: session\n      }).then(function (response) {\n        if (response.status == 200 && response.data.success) {\n          Messenger().post({\n            message: response.data.success,\n            hideAfter: 3,\n            showCloseButton: true\n          });\n          return self.navigateToList();\n        } else {\n          if (response.data.error) {\n            self.isLoading = false;\n            return Messenger().post({\n              type: 'error',\n              message: response.data.error,\n              hideAfter: 3,\n              showCloseButton: true\n            });\n          } else {\n            self.isLoading = false;\n            return Messenger().post({\n              type: 'error',\n              message: response.error,\n              hideAfter: 3,\n              showCloseButton: true\n            });\n          }\n        }\n      }).catch(function (error) {\n        self.isLoading = false;\n        return Messenger().post({\n          type: 'error',\n          message: error,\n          hideAfter: 3,\n          showCloseButton: true\n        });\n      });\n    }\n  },\n  created: function created() {\n    initializationMessengerCode();\n    Messenger.options = {\n      extraClasses: this.locationClasses,\n      theme: 'air',\n      showCloseButton: true\n    };\n  },\n  mounted: function mounted() {}\n};",{"version":3,"sources":["BlockingsCreate.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <ol class=\"breadcrumb\">\r\n      <li class=\"breadcrumb-item\">YOU ARE HERE</li>\r\n      <li class=\"breadcrumb-item active\">Add New Blocked Session</li>\r\n    </ol>\r\n\r\n\r\n    <b-row>\r\n\r\n      <b-col lg='8' xs='12'>\r\n        <Widget\r\n          title=\"<h5>        \r\n            <small> Fill up & click Submit</small>\r\n          </h5>\"\r\n          customHeader \r\n        >\r\n          <b-form @submit=\"onSubmit\">\r\n            <fieldset>\r\n              <legend>\r\n               \r\n              </legend>\r\n\r\n                   <b-form-group\r\n                  label=\"Select Date\"\r\n                  label-for=\"description\"\r\n                  description=\"\"\r\n                >\r\n     <input type=\"date\" placeholder=\"Start\" v-model=\"data.date\"  class=\"form-control\">\r\n                  </b-form-group>\r\n\r\n                <b-form-group\r\n                  label=\"Select Branch\"\r\n                >\r\n           \r\n                  <v-select\r\n                        \r\n                    v-model=\"data.branch\"\r\n                  \r\n                  :options=\"['TTDI', 'Ampang','Jalan Kuching','Bangi']\"\r\n              \r\n                  />\r\n        </b-form-group>\r\n        <p>Select Time & Capacity and Click Add to List. You should see the blocked list below fill up,once done click submit button below </p>\r\n                <b-form-group\r\n                  label=\"Select Time & Capacity Below\"\r\n               \r\n                >\r\n           \r\n                  <v-select\r\n                        \r\n                    v-model=\"data.time\"\r\n                    \r\n                    :options='[\"09:00\",\"10:00\",\"11:00\",\"12:00\",\"13:00\",\"14:00\",\"15:00\",\"16:00\",\"17:00\",\"18:00\",\"19:00\",\"20:00\"]'\r\n              \r\n                  />\r\n                   <input type=\"number\" v-model=\"data.capacity\" class=\"form-control very-small\"   placeholder=\"Enter capacity\">\r\n        </b-form-group>\r\n<b-button type=\"button\" variant=\"default\" class=\"btn-rounded\" @click=\"addToList()\" >\r\n               Add to List\r\n              </b-button>\r\n<br><br>\r\n              <p>Blocked / Reduced Capacity List</p>\r\n        <ul id=\"v-for-object\" class=\"demo\">\r\n  <li v-for=\"(value,key) in data.session\">\r\n  TIME: {{key}}    | CAPACITY :  {{ value }} \r\n  </li>\r\n</ul> <br><br><br>\r\n            </fieldset>\r\n            <div class=\"form-action\">\r\n              <b-button type=\"submit\" variant=\"danger\" class=\"btn-rounded float-right\" v-if=\"isLoading==false\">\r\n                Submit\r\n              </b-button>\r\n              <b-button type=\"button\" variant=\"default\" class=\"btn-rounded\" @click=\"navigateToList()\" >\r\n                Cancel\r\n              </b-button>\r\n            </div>\r\n          </b-form>\r\n        </Widget>\r\n      </b-col>\r\n    </b-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport 'imports-loader?$=jquery,this=>window!messenger/build/js/messenger'; // eslint-disable-line\r\nimport Widget from '@/components/Widget/Widget';\r\nimport vSelect from 'vue-select';\r\nimport DatePicker from 'vue2-datepicker';\r\nimport Vue from 'vue';\r\nconst { Messenger } = window;\r\n\r\n/* eslint-disable */\r\nfunction initializationMessengerCode() {\r\n  (function () {\r\n    let $,\r\n      FlatMessage,\r\n      spinner_template,\r\n      __hasProp = {}.hasOwnProperty,\r\n      __extends = function (child, parent) {\r\n        for (const key in parent) {\r\n          if (__hasProp.call(parent, key)) child[key] = parent[key];\r\n        }\r\n\r\n        function ctor() {\r\n          this.constructor = child;\r\n        }\r\n\r\n        ctor.prototype = parent.prototype;\r\n        child.prototype = new ctor();\r\n        child.__super__ = parent.prototype;\r\n        return child;\r\n      };\r\n\r\n    $ = jQuery;\r\n\r\n    spinner_template = '<div class=\"messenger-spinner\">\\n    <span class=\"messenger-spinner-side messenger-spinner-side-left\">\\n        <span class=\"messenger-spinner-fill\"></span>\\n    </span>\\n    <span class=\"messenger-spinner-side messenger-spinner-side-right\">\\n        <span class=\"messenger-spinner-fill\"></span>\\n    </span>\\n</div>';\r\n\r\n    FlatMessage = (function (_super) {\r\n      __extends(FlatMessage, _super);\r\n\r\n      function FlatMessage() {\r\n        return FlatMessage.__super__.constructor.apply(this, arguments);\r\n      }\r\n\r\n      FlatMessage.prototype.template = function (opts) {\r\n        let $message;\r\n        $message = FlatMessage.__super__.template.apply(this, arguments);\r\n        $message.append($(spinner_template));\r\n        return $message;\r\n      };\r\n\r\n      return FlatMessage;\r\n    }(Messenger.Message));\r\n\r\n    Messenger.themes.air = {\r\n      Message: FlatMessage,\r\n    };\r\n  }).call(window);\r\n}\r\n/* eslint-enable */\r\n\r\nexport default {\r\n  name: 'FormValidation',\r\n  components: { Widget,vSelect,DatePicker },\r\n  data() {\r\n    return {\r\n      data:{\r\n       date:'',\r\n       branch:'',\r\n       session:{\r\n          \r\n       },\r\n       time:'',\r\n       capacity:''\r\n      },\r\n        start_time:'',\r\n        end_time:'',\r\n      locationClasses: 'messenger-fixed messenger-on-top messenger-on-right',\r\n      isLoading:false,\r\n      allMembersInfo:[],      \r\n    };\r\n  },\r\n  methods: {\r\n    addToList(){\r\n      var time = this.data.time;\r\n      var capacity  = this.data.capacity;\r\n       this.data.time = '';\r\n      this.data.capacity = 0;\r\n     return this.data.session[time] = parseInt(capacity);\r\n     \r\n\r\n\r\n    },\r\n      navigateToList(){\r\n        this.$router.push({name:'BlockedListing'});\r\n    },\r\n    onSubmit(e) {\r\n       var self = this;\r\n         e.preventDefault();\r\n  \r\n       \r\n         if(self.data.date == '' || self.data.branch == '' || Object.keys(self.data.session).length === 0 && self.data.session.constructor === Object){\r\n            return Messenger().post({ type:'error',message :\"Fill up all fields & Add at least one sesion to list before clicking Submit\"});\r\n        }\r\n     // self.isLoading = true;\r\n      var session = JSON.stringify(self.data.session);\r\n        \r\n                self.axios.post('https://dbc-asia-269419.appspot.com/blocked_sessions/add', {\r\n                 date:self.data.date,\r\n                 branch:self.data.branch,\r\n                 session:session\r\n                })\r\n                .then(function (response) {\r\n                if(response.status == 200 && response.data.success){\r\n                Messenger().post({message:response.data.success, hideAfter: 3,showCloseButton:true});\r\n                return self.navigateToList();\r\n                }\r\n                else {\r\n                  if(response.data.error){\r\n                    self.isLoading = false;\r\n                  return Messenger().post({ type:'error',message :response.data.error, hideAfter: 3,showCloseButton:true});\r\n          \r\n                  }\r\n                 else {\r\n                   self.isLoading = false;\r\n                 return Messenger().post({ type:'error',message :response.error, hideAfter: 3,showCloseButton:true});\r\n                   }\r\n                }\r\n                })\r\n                .catch(function (error) {\r\n                  self.isLoading = false;\r\n                  return Messenger().post({ type:'error',message :error, hideAfter: 3,showCloseButton:true});                \r\n                });   \r\n\r\n    },\r\n\r\n\r\n  },\r\n  created() {\r\n    initializationMessengerCode();\r\n    Messenger.options = {\r\n      extraClasses: this.locationClasses,\r\n      theme: 'air',\r\n      showCloseButton: true,\r\n    };\r\n  \r\n  },\r\n  mounted(){\r\n   \r\n   }\r\n};\r\n</script>\r\n"],"sourceRoot":"src\\pages\\Bookings"}]}