{"remainingRequest":"F:\\sunrisers\\kka-pj\\clinicPortal\\node_modules\\babel-loader\\lib\\index.js!F:\\sunrisers\\kka-pj\\clinicPortal\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\sunrisers\\kka-pj\\clinicPortal\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\sunrisers\\kka-pj\\clinicPortal\\src\\pages\\Bookings\\BookingsCreate.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\sunrisers\\kka-pj\\clinicPortal\\src\\pages\\Bookings\\BookingsCreate.vue","mtime":1597210918845},{"path":"F:\\sunrisers\\kka-pj\\clinicPortal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1591157758729},{"path":"F:\\sunrisers\\kka-pj\\clinicPortal\\node_modules\\babel-loader\\lib\\index.js","mtime":1591157735766},{"path":"F:\\sunrisers\\kka-pj\\clinicPortal\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1591157758729},{"path":"F:\\sunrisers\\kka-pj\\clinicPortal\\node_modules\\vue-loader\\lib\\index.js","mtime":1591157760591}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"F:\\\\sunrisers\\\\kka-pj\\\\clinicPortal\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Vue from 'vue';\nimport vSelect from 'vue-select';\nimport 'imports-loader?$=jquery,this=>window!messenger/build/js/messenger'; // eslint-disable-line\n\nimport Widget from '@/components/Widget/Widget';\nimport vue2Dropzone from 'vue2-dropzone';\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css';\nimport { select2CountriesData, select2ShipmentData, cardTypesData } from './data';\nimport rns from '../../assets/cards/rns.png';\nimport moment from 'moment';\nvar _window = window,\n    Messenger = _window.Messenger;\n\nfunction initializationMessengerCode() {\n  (function () {\n    var $,\n        FlatMessage,\n        spinner_template,\n        __hasProp = {}.hasOwnProperty,\n        __extends = function __extends(child, parent) {\n      for (var key in parent) {\n        if (__hasProp.call(parent, key)) child[key] = parent[key];\n      }\n\n      function ctor() {\n        this.constructor = child;\n      }\n\n      ctor.prototype = parent.prototype;\n      child.prototype = new ctor();\n      child.__super__ = parent.prototype;\n      return child;\n    };\n\n    $ = jQuery;\n    spinner_template = '<div class=\"messenger-spinner\">\\n    <span class=\"messenger-spinner-side messenger-spinner-side-left\">\\n        <span class=\"messenger-spinner-fill\"></span>\\n    </span>\\n    <span class=\"messenger-spinner-side messenger-spinner-side-right\">\\n        <span class=\"messenger-spinner-fill\"></span>\\n    </span>\\n</div>';\n\n    FlatMessage = function (_super) {\n      __extends(FlatMessage, _super);\n\n      function FlatMessage() {\n        return FlatMessage.__super__.constructor.apply(this, arguments);\n      }\n\n      FlatMessage.prototype.template = function (opts) {\n        var $message;\n        $message = FlatMessage.__super__.template.apply(this, arguments);\n        $message.append($(spinner_template));\n        return $message;\n      };\n\n      return FlatMessage;\n    }(Messenger.Message);\n\n    Messenger.themes.air = {\n      Message: FlatMessage\n    };\n  }).call(window);\n}\n/* eslint-enable */\n\n\nexport default {\n  name: 'FormWizardPage',\n  components: {\n    Widget: Widget,\n    vSelect: vSelect,\n    vueDropzone: vue2Dropzone\n  },\n  data: function data() {\n    return {\n      loadingWizard: false,\n      errorMsg: null,\n      count: 0,\n      isLoading: false,\n      minDate: '',\n      maxDate: '',\n      sessions: [],\n      progress: 1,\n      memberInfo: [],\n      data: {\n        branch: '',\n        date: '',\n        time: '',\n        comments: '',\n        attachments: []\n      },\n      dropzoneOptions: {\n        url: 'https://backend.medicodesolution.com/staging/bookings/attachments/upload',\n        thumbnailWidth: 150,\n        maxFilesize: 10.0,\n        maxFiles: 15,\n        addRemoveLinks: true //autoProcessQueue: false\n\n      }\n    };\n  },\n  methods: {\n    successEvent: function successEvent(file) {\n      this.data.attachments.push(file.xhr.response);\n    },\n    onComplete: function onComplete() {\n      submit();\n    },\n    setLoading: function setLoading(value) {\n      this.loadingWizard = value;\n    },\n    handleValidation: function handleValidation(isValid, tabIndex) {\n      console.log('Tab: ' + tabIndex + ' valid: ' + isValid);\n    },\n    handleErrorMessage: function handleErrorMessage(errorMsg) {\n      this.errorMsg = errorMsg;\n    },\n    navigateToDashboard: function navigateToDashboard() {\n      this.$router.push({\n        name: 'Dashboard'\n      });\n    },\n    validBranch: function validBranch() {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        if (_this.data.member == '' || _this.data.member == null) {\n          reject('Select user to continue..');\n        }\n\n        if (_this.data.branch == '' || _this.data.branch == null) {\n          reject('Select branch to continue..');\n        } else {\n          resolve(true);\n        }\n      });\n    },\n    validDate: function validDate() {\n      var _this2 = this;\n\n      return new Promise(function (resolve, reject) {\n        if (_this2.data.member == '' || _this2.data.member == null) {\n          reject('Select user to continue..');\n        }\n\n        if (_this2.data.branch == '' || _this2.data.branch == null) {\n          reject('Select branch to continue..');\n        }\n\n        if (_this2.data.date == '' || _this2.data.date == null) {\n          reject('Select valid date to continue..');\n        } else {\n          resolve(true);\n        }\n      });\n    },\n    validTime: function validTime() {\n      var _this3 = this;\n\n      return new Promise(function (resolve, reject) {\n        if (_this3.data.member == '' || _this3.data.member == null) {\n          reject('Select user to continue..');\n        }\n\n        if (_this3.data.branch == '' || _this3.data.branch == null) {\n          reject('Select branch to continue..');\n        }\n\n        if (_this3.data.date == '' || _this3.data.date == null) {\n          reject('Select valid date to continue..');\n        }\n\n        if (_this3.data.time == '' || _this3.data.time == null) {\n          reject('Select valid time to continue..');\n        } else {\n          resolve(true);\n        }\n      });\n    },\n    submit: function submit() {\n      var self = this; //no validation\n\n      var self = this;\n      self.isLoading = true;\n      self.axios.post('https://backend.medicodesolution.com/staging/members/bookings/submit', {\n        branch: self.data.branch,\n        date: self.data.date,\n        time: self.data.time,\n        comments: self.data.comments,\n        user_id: self.data.member.id,\n        user_name: self.data.member.username,\n        attachments: self.data.attachments.join()\n      }).then(function (response) {\n        if (response.status == 200 && response.data.success) {\n          self.isLoading = false;\n          Messenger().post({\n            message: response.data.success,\n            hideAfter: 3,\n            showCloseButton: true\n          });\n          return self.navigateToDashboard();\n        } else {\n          if (response.data.error) {\n            self.isLoading = false;\n            Messenger().post({\n              type: 'error',\n              message: response.data.error,\n              hideAfter: 3,\n              showCloseButton: true\n            });\n            return self.navigateToDashboard();\n          } else {\n            self.isLoading = false;\n            Messenger().post({\n              type: 'error',\n              message: response.error,\n              hideAfter: 3,\n              showCloseButton: true\n            });\n            return self.navigateToDashboard();\n          }\n        }\n      }).catch(function (error) {\n        self.isLoading = false;\n        Messenger().post({\n          type: 'error',\n          message: error,\n          hideAfter: 3,\n          showCloseButton: true\n        });\n        return self.navigateToDashboard();\n      });\n    },\n    checkSession: function () {\n      var _checkSession = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var self;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                self = this;\n                self.axios.post('https://backend.medicodesolution.com/staging/members/booking/checkSession', {\n                  branch: self.data.branch,\n                  date: self.data.date,\n                  source: 'PHYSIO PORTAL'\n                }).then(function (response) {\n                  if (response.status == 200 && response.data.success) {\n                    self.sessions = response.data.sessions; //console.log(self.sessions)\n\n                    return Messenger().post({\n                      message: response.data.success,\n                      hideAfter: 3,\n                      showCloseButton: true\n                    });\n                  } else {\n                    if (response.data.error) {\n                      self.data.date = '';\n                      return Messenger().post({\n                        type: 'error',\n                        message: response.data.error,\n                        hideAfter: 3,\n                        showCloseButton: true\n                      });\n                    } else {\n                      self.data.date = '';\n                      return Messenger().post({\n                        type: 'error',\n                        message: response.error,\n                        hideAfter: 3,\n                        showCloseButton: true\n                      });\n                    }\n                  }\n                }).catch(function (error) {\n                  self.data.date = '';\n                  return Messenger().post({\n                    type: 'error',\n                    message: error,\n                    hideAfter: 3,\n                    showCloseButton: true\n                  });\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function checkSession() {\n        return _checkSession.apply(this, arguments);\n      };\n    }(),\n    checkEligibility: function () {\n      var _checkEligibility = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var self;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                self = this;\n                self.axios.post('https://backend.medicodesolution.com/staging/members/booking/checkEligibility/' + self.memberId, {}).then(function (response) {\n                  if (response.status == 200 && response.data.success) {\n                    return Messenger().post({\n                      message: response.data.success,\n                      hideAfter: 3,\n                      showCloseButton: true\n                    });\n                  } else {\n                    if (response.data.error) {\n                      Messenger().post({\n                        type: 'error',\n                        message: response.data.error,\n                        hideAfter: 3,\n                        showCloseButton: true\n                      });\n                      console.log(response.data);\n\n                      if (response.data.code == '002') {\n                        return self.$router.push({\n                          name: 'AccountUpdate'\n                        });\n                      }\n\n                      return self.navigateToDashboard();\n                    } else {\n                      Messenger().post({\n                        type: 'error',\n                        message: response.error,\n                        hideAfter: 3,\n                        showCloseButton: true\n                      });\n                      return self.navigateToDashboard();\n                    }\n                  }\n                }).catch(function (error) {\n                  Messenger().post({\n                    type: 'error',\n                    message: error,\n                    hideAfter: 3,\n                    showCloseButton: true\n                  });\n                  return self.navigateToDashboard();\n                });\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function checkEligibility() {\n        return _checkEligibility.apply(this, arguments);\n      };\n    }(),\n    checkBranch: function () {\n      var _checkBranch = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var self;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                self = this;\n                self.data.date = '';\n\n                if (!(self.data.branch == '')) {\n                  _context3.next = 4;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", false);\n\n              case 4:\n                self.axios.post('https://backend.medicodesolution.com/staging/members/booking/checkBranch/' + self.data.branch, {}).then(function (response) {\n                  if (response.status == 200 && response.data.success) {\n                    self.minDate = response.data.minDate;\n                    self.maxDate = response.data.maxDate;\n                    return Messenger().post({\n                      message: response.data.success,\n                      hideAfter: 3,\n                      showCloseButton: true\n                    });\n                  } else {\n                    if (response.data.error) {\n                      return Messenger().post({\n                        type: 'error',\n                        message: response.data.error,\n                        hideAfter: 3,\n                        showCloseButton: true\n                      });\n                    } else {\n                      return Messenger().post({\n                        type: 'error',\n                        message: response.error,\n                        hideAfter: 3,\n                        showCloseButton: true\n                      });\n                    }\n                  }\n                }).catch(function (error) {\n                  return Messenger().post({\n                    type: 'error',\n                    message: error,\n                    hideAfter: 3,\n                    showCloseButton: true\n                  });\n                });\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function checkBranch() {\n        return _checkBranch.apply(this, arguments);\n      };\n    }(),\n    getMembers: function () {\n      var _getMembers = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4() {\n        var response;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return this.axios.get('https://backend.medicodesolution.com/staging/physio/members');\n\n              case 3:\n                response = _context4.sent;\n                this.memberInfo = response.data.memberInfo;\n                _context4.next = 10;\n                break;\n\n              case 7:\n                _context4.prev = 7;\n                _context4.t0 = _context4[\"catch\"](0);\n                console.error(_context4.t0);\n\n              case 10:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[0, 7]]);\n      }));\n\n      return function getMembers() {\n        return _getMembers.apply(this, arguments);\n      };\n    }()\n  },\n  mounted: function mounted() {\n    this.getMembers();\n  },\n  created: function created() {\n    initializationMessengerCode();\n    Messenger.options = {\n      extraClasses: this.locationClasses,\n      theme: 'air',\n      showCloseButton: true\n    };\n  }\n};",{"version":3,"sources":["BookingsCreate.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <b-row>\r\n    <b-col xl='8' lg='16'>\r\n      <Widget\r\n        title=\"\r\n        <div>\r\n          <h4>\r\n            Book New Appointment&nbsp;\r\n            <small></small>\r\n          </h4>\r\n          <p class='text-muted'>Follow these 4 simple steps to complete booking!</p>\r\n        </div>\"\r\n        customHeader  collapse\r\n      >\r\n         <form-wizard\r\n          shape=\"tab\"\r\n          color=\"#3498db\"\r\n          title=\"\"\r\n          subtitle=\"\"\r\n       @on-validate=\"handleValidation\"\r\n      \r\n                  @on-loading=\"setLoading\"\r\n                  @on-error=\"handleErrorMessage\"\r\n        >\r\n          <b-progress class=\"progress-xs\" variant=\"gray-light\" :value=\"progress\" :max=\"4\" />\r\n          <b-button slot=\"prev\" variant=\"primary\">\r\n            <i class=\"fa fa-caret-left\" /> Previous\r\n          </b-button>\r\n          <b-button slot=\"next\" variant=\"primary\">\r\n            Next <i class=\"fa fa-caret-right\" />\r\n          </b-button>\r\n          <b-button  slot=\"finish\" variant=\"success\" @click=\"submit\" v-if=\"isLoading==false\" >\r\n            Proceed  <i class=\"fa fa-check\" />\r\n          </b-button>\r\n            <tab-content title=\"1. DBC Center\"  :before-change=\"validBranch\">\r\n              <b-form>\r\n              \r\n             <b-form-group\r\n                  label=\"Select User\"\r\n                >\r\n           \r\n               <v-select :options=\"memberInfo\"    v-model=\"data.member\" label=\"username\" >\r\n    <template slot=\"option\" slot-scope=\"option\">\r\n        {{ option.username }} - #{{option.id}}\r\n    </template>\r\n  </v-select>\r\n        </b-form-group>\r\n   \r\n\r\n\r\n                \r\n              </b-form>\r\n              <b-form-group\r\n                  label=\"Select Branch\"\r\n                >\r\n           \r\n                  <v-select\r\n                        \r\n                    v-model=\"data.branch\"\r\n                    @change=\"checkBranch\"\r\n                 :options=\"['TTDI', 'Ampang','Jalan Kuching','Bangi']\"\r\n              \r\n                  />\r\n        </b-form-group>\r\n   \r\n\r\n\r\n                \r\n              </b-form>\r\n            </tab-content>\r\n            <tab-content title=\"2. Appointment Date\" :before-change=\"validDate\">\r\n              <b-form>\r\n              \r\n                        <b-form-group\r\n                  label=\"Select Appointment Date\"\r\n                  label-for=\"description\"\r\n                  description=\"Booking has to be made one day in advance \"\r\n                >\r\n     <input type=\"date\" placeholder=\"Start\" v-model=\"data.date\"  @change=\"checkSession\" :max=\"maxDate\" class=\"form-control\">\r\n                  </b-form-group>\r\n\r\n                              \r\n     \r\n              </b-form>\r\n            </tab-content>\r\n            <tab-content title=\"3. Select Session Time\" :before-change=\"validTime\">\r\n              <b-form>\r\n                <p>Select Preferable Session Time</p>\r\n                  <b-form-group class=\"radio abc-radio\" v-for=\"(session,index) in sessions\" :key=\"session.value\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"radio\"\r\n                        :id=\"'diagn'+index\"\r\n                        v-model=\"data.time\"\r\n                        :value=\"session.value\"\r\n                        :disabled=\"session.capacity<1\"\r\n                      />\r\n                      <label  :for=\"'diagn'+index\">{{session.text}} ~ {{session.capacity}} slots left</label>\r\n                    </b-form-group>\r\n     \r\n     \r\n              </b-form>\r\n\r\n    \r\n            </tab-content>\r\n            <tab-content title=\"4. Review & Confirmation\">\r\n                <b-form-group>\r\n           <label for=\"myvueDropZone\">Upload Attachments (Relevant medical documents:- MRI/Xray Report, Dr Referral, Insurance Card(GL), etc)</label>\r\n             <label for=\"myvueDropZone\"> *upto 15 items, max 10MB size*</label>\r\n            \r\n              <vue-dropzone ref=\"myVueDropzone\" id=\"dropzone\" :options=\"dropzoneOptions\" v-on:vdropzone-success=\"successEvent\"></vue-dropzone>\r\n       \r\n              </b-form-group>\r\n        <b-form-group >\r\n            <label for=\"otherActive\">Additional Comments/Requests</label>\r\n            <textarea-autosize \r\n              v-model=\"data.comments\"\r\n            placeholder=\"eg: I am looking for knee treatment.\"\r\n            :min-height=\"35\"\r\n            class=\"form-control\"\r\n            id=\"otherActive\"\r\n            />\r\n            \r\n        </b-form-group>\r\n            </tab-content>\r\n            <div class=\"loader\" v-if=\"loadingWizard\"></div>\r\n    <div v-if=\"errorMsg\">\r\n      <span class=\"error\">{{errorMsg}}</span>\r\n    </div>\r\n        </form-wizard>\r\n      </Widget>\r\n    </b-col>\r\n  </b-row>\r\n</template>\r\n<style>\r\nspan.error{\r\n  color:#e74c3c;\r\n  font-size:20px;\r\n  display:flex;\r\n  justify-content:center;\r\n}\r\n</style>\r\n<script>\r\n\r\nimport Vue from 'vue';\r\nimport vSelect from 'vue-select';\r\nimport 'imports-loader?$=jquery,this=>window!messenger/build/js/messenger'; // eslint-disable-line\r\nimport Widget from '@/components/Widget/Widget';\r\nimport vue2Dropzone from 'vue2-dropzone';\r\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css';\r\nimport { select2CountriesData, select2ShipmentData, cardTypesData } from './data';\r\nimport rns from '../../assets/cards/rns.png';\r\nimport moment from 'moment';\r\nconst { Messenger } = window;\r\nfunction initializationMessengerCode() {\r\n  (function () {\r\n    let $,\r\n      FlatMessage,\r\n      spinner_template,\r\n      __hasProp = {}.hasOwnProperty,\r\n      __extends = function (child, parent) {\r\n        for (const key in parent) {\r\n          if (__hasProp.call(parent, key)) child[key] = parent[key];\r\n        }\r\n\r\n        function ctor() {\r\n          this.constructor = child;\r\n        }\r\n\r\n        ctor.prototype = parent.prototype;\r\n        child.prototype = new ctor();\r\n        child.__super__ = parent.prototype;\r\n        return child;\r\n      };\r\n\r\n    $ = jQuery;\r\n\r\n    spinner_template = '<div class=\"messenger-spinner\">\\n    <span class=\"messenger-spinner-side messenger-spinner-side-left\">\\n        <span class=\"messenger-spinner-fill\"></span>\\n    </span>\\n    <span class=\"messenger-spinner-side messenger-spinner-side-right\">\\n        <span class=\"messenger-spinner-fill\"></span>\\n    </span>\\n</div>';\r\n\r\n    FlatMessage = (function (_super) {\r\n      __extends(FlatMessage, _super);\r\n\r\n      function FlatMessage() {\r\n        return FlatMessage.__super__.constructor.apply(this, arguments);\r\n      }\r\n\r\n      FlatMessage.prototype.template = function (opts) {\r\n        let $message;\r\n        $message = FlatMessage.__super__.template.apply(this, arguments);\r\n        $message.append($(spinner_template));\r\n        return $message;\r\n      };\r\n\r\n      return FlatMessage;\r\n    }(Messenger.Message));\r\n\r\n    Messenger.themes.air = {\r\n      Message: FlatMessage,\r\n    };\r\n  }).call(window);\r\n}\r\n/* eslint-enable */\r\nexport default {\r\n  name: 'FormWizardPage',\r\n  components: { Widget, vSelect,vueDropzone: vue2Dropzone},\r\n  data() {\r\n    return {\r\n        loadingWizard: false,\r\n         errorMsg: null,\r\n         count: 0,\r\n      isLoading:false,\r\n      minDate:'',\r\n      maxDate:'',\r\n      sessions:[],\r\n    progress:1,\r\n    memberInfo:[],\r\n      data:{\r\n        branch:'',\r\n        date:'',\r\n        time:'',\r\n        comments:'',\r\n        attachments:[]\r\n      },\r\n            dropzoneOptions: {\r\n          url: 'https://backend.medicodesolution.com/staging/bookings/attachments/upload',\r\n          thumbnailWidth: 150,\r\n          maxFilesize: 10.0,\r\n           maxFiles: 15,\r\n          addRemoveLinks: true,\r\n          //autoProcessQueue: false\r\n          \r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n     successEvent (file) {\r\n        this.data.attachments.push(file.xhr.response);\r\n      },\r\n onComplete: function(){\r\n          submit()\r\n        },\r\n        setLoading: function(value) {\r\n            this.loadingWizard = value\r\n        },\r\n        handleValidation: function(isValid, tabIndex){\r\n           console.log('Tab: '+tabIndex+ ' valid: '+isValid)\r\n        },\r\n        handleErrorMessage: function(errorMsg){\r\n          this.errorMsg = errorMsg\r\n        },\r\n        navigateToDashboard(){\r\n        this.$router.push({name:'Dashboard' });\r\n    },\r\n      validBranch:function() {\r\n     return new Promise((resolve, reject) => {\r\n           if(this.data.member=='' || this.data.member==null){\r\n        \r\n         \treject('Select user to continue..')\r\n         }\r\n         if(this.data.branch=='' || this.data.branch==null){\r\n        \r\n         \treject('Select branch to continue..')\r\n         }else{\r\n         \r\n          resolve(true)\r\n         }   \r\n     \r\n     })\r\n    },\r\n          validDate:function() {\r\n     return new Promise((resolve, reject) => {\r\n           if(this.data.member=='' || this.data.member==null){\r\n        \r\n         \treject('Select user to continue..')\r\n         }\r\n         if(this.data.branch=='' || this.data.branch==null){\r\n        \r\n         \treject('Select branch to continue..')\r\n         }\r\n            if(this.data.date=='' || this.data.date==null){\r\n        \r\n         \treject('Select valid date to continue..')\r\n         }\r\n         else{\r\n         \r\n          resolve(true)\r\n         }   \r\n     \r\n     })\r\n    },\r\n              validTime:function() {\r\n     return new Promise((resolve, reject) => {\r\n           if(this.data.member=='' || this.data.member==null){\r\n        \r\n         \treject('Select user to continue..')\r\n         }\r\n         if(this.data.branch=='' || this.data.branch==null){\r\n        \r\n         \treject('Select branch to continue..')\r\n         }\r\n            if(this.data.date=='' || this.data.date==null){\r\n        \r\n         \treject('Select valid date to continue..')\r\n         }\r\n               if(this.data.time=='' || this.data.time==null){\r\n        \r\n         \treject('Select valid time to continue..')\r\n         }\r\n         else{\r\n         \r\n          resolve(true)\r\n         }   \r\n     \r\n     })\r\n    },\r\n  submit(){\r\n    var self=this;\r\n  \r\n   //no validation\r\n    var self = this;\r\n     self.isLoading = true;\r\n    self.axios.post('https://backend.medicodesolution.com/staging/members/bookings/submit', {\r\n        branch:self.data.branch,\r\n        date:self.data.date,\r\n        time:self.data.time,\r\n        comments:self.data.comments,\r\n        user_id:self.data.member.id,\r\n        user_name:self.data.member.username,\r\n          attachments:self.data.attachments.join(),\r\n\r\n    })\r\n                .then(function (response) {\r\n                if(response.status == 200 && response.data.success){\r\n                                   self.isLoading = false;\r\n                   Messenger().post({message:response.data.success, hideAfter: 3,showCloseButton:true});\r\n                   return self.navigateToDashboard();\r\n         \r\n                }\r\n                else {\r\n                  if(response.data.error){\r\n                    self.isLoading = false;\r\n                 Messenger().post({ type:'error',message :response.data.error, hideAfter: 3,showCloseButton:true});\r\n              return self.navigateToDashboard();\r\n                  }\r\n                 else {\r\n                   self.isLoading = false;\r\n               Messenger().post({ type:'error',message :response.error, hideAfter: 3,showCloseButton:true});\r\n                   return self.navigateToDashboard();\r\n                   }\r\n                }\r\n                })\r\n                .catch(function (error) {\r\n                self.isLoading = false;\r\n                 Messenger().post({ type:'error',message :error, hideAfter: 3,showCloseButton:true}); \r\n                     return self.navigateToDashboard();               \r\n                }); \r\n  },\r\n async checkSession(){\r\n    var self = this;\r\n    self.axios.post('https://backend.medicodesolution.com/staging/members/booking/checkSession', {\r\n        branch:self.data.branch,\r\n        date:self.data.date,\r\n        source:'PHYSIO PORTAL'\r\n\r\n    })\r\n                .then(function (response) {\r\n                if(response.status == 200 && response.data.success){\r\n                self.sessions = response.data.sessions;\r\n                  //console.log(self.sessions)\r\n                  return  Messenger().post({message:response.data.success, hideAfter: 3,showCloseButton:true});\r\n         \r\n                }\r\n                else {\r\n                  if(response.data.error){\r\n                         self.data.date = '';\r\n                  return Messenger().post({ type:'error',message :response.data.error, hideAfter: 3,showCloseButton:true});\r\n          \r\n                  }\r\n                 else {\r\n                        self.data.date = '';\r\n                 return Messenger().post({ type:'error',message :response.error, hideAfter: 3,showCloseButton:true});\r\n                   }\r\n                }\r\n                })\r\n                .catch(function (error) {\r\n                     self.data.date = '';\r\n                  return Messenger().post({ type:'error',message :error, hideAfter: 3,showCloseButton:true});                \r\n                }); \r\n  },\r\n async checkEligibility(){\r\n      var self = this;\r\n\r\n      self.axios.post('https://backend.medicodesolution.com/staging/members/booking/checkEligibility/'+self.memberId, {})\r\n                .then(function (response) {\r\n                if(response.status == 200 && response.data.success){\r\n                  return  Messenger().post({message:response.data.success, hideAfter: 3,showCloseButton:true});\r\n         \r\n                }\r\n                else {\r\n                  if(response.data.error){\r\n                      \r\n                 Messenger().post({ type:'error',message :response.data.error, hideAfter: 3,showCloseButton:true});\r\n                   console.log(response.data)\r\n                 if(response.data.code=='002'){\r\n              \r\n                 return self.$router.push({name:'AccountUpdate'});\r\n                 }\r\n           return self.navigateToDashboard();\r\n                  }\r\n                 else {\r\n                  \r\n                Messenger().post({ type:'error',message :response.error, hideAfter: 3,showCloseButton:true});\r\n                 return self.navigateToDashboard();\r\n                   }\r\n                }\r\n                })\r\n                .catch(function (error) {\r\n               \r\n                   Messenger().post({ type:'error',message :error, hideAfter: 3,showCloseButton:true});    \r\n                    return self.navigateToDashboard();            \r\n                }); \r\n                \r\n  },\r\n   async checkBranch(){\r\n     \r\n      var self = this;\r\n      self.data.date='';\r\n      if(self.data.branch==''){return false;}\r\n      self.axios.post('https://backend.medicodesolution.com/staging/members/booking/checkBranch/'+self.data.branch, {})\r\n                .then(function (response) {\r\n                if(response.status == 200 && response.data.success){\r\n                \r\n                 self.minDate =  response.data.minDate;\r\n                 self.maxDate = response.data.maxDate;\r\n                  return  Messenger().post({message:response.data.success, hideAfter: 3,showCloseButton:true});\r\n         \r\n                }\r\n                else {\r\n                  if(response.data.error){\r\n                   \r\n                  return Messenger().post({ type:'error',message :response.data.error, hideAfter: 3,showCloseButton:true});\r\n          \r\n                  }\r\n                 else {\r\n                  \r\n                 return Messenger().post({ type:'error',message :response.error, hideAfter: 3,showCloseButton:true});\r\n                   }\r\n                }\r\n                })\r\n                .catch(function (error) {\r\n               \r\n                  return Messenger().post({ type:'error',message :error, hideAfter: 3,showCloseButton:true});                \r\n                }); \r\n                \r\n  },\r\n async getMembers() {\r\n  try {\r\n   const response = await this.axios.get('https://backend.medicodesolution.com/staging/physio/members')\r\n   this.memberInfo = response.data.memberInfo;\r\n   \r\n \r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n  },\r\n     mounted(){\r\n  this.getMembers();\r\n \r\n \r\n   },\r\n    created() {\r\n    initializationMessengerCode();\r\n    Messenger.options = {\r\n      extraClasses: this.locationClasses,\r\n      theme: 'air',\r\n      showCloseButton: true,\r\n    };\r\n  \r\n  },\r\n};\r\n</script>\r\n\r\n<style src=\"./BookingsCreate.scss\" lang=\"scss\" />\r\n"],"sourceRoot":"src\\pages\\Bookings"}]}